{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst input = document.querySelector('#datetime-picker');\nconst start = document.querySelector('[data-start]');\nconst days = document.querySelector('[data-days]');\nconst hours = document.querySelector('[data-hours]');\nconst minutes = document.querySelector('[data-minutes]');\nconst seconds = document.querySelector('[data-seconds]');\n\nlet selectedDates = null;\nlet timerInterval = null;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(date) {\n    selectedDates = date[0];\n    if (selectedDates < new Date()) {\n      start.disabled = true;\n      iziToast.error({\n        message: 'Pick a date in the future!',\n        position: 'topRight',\n      });\n    } else {\n      start.disabled = false;\n    }\n    console.log(date[0]);\n  },\n};\n\nflatpickr(input, options);\n\nstart.addEventListener('click', () => {\n  input.disabled = true;\n  start.disabled = true;\n\n  timerInterval = setInterval(() => {\n    let time = selectedDates - new Date();\n    console.log(convertMs(time));\n    const timeComponents = convertMs(time);\n    days.textContent = pad(timeComponents.days);\n    hours.textContent = pad(timeComponents.hours);\n    minutes.textContent = pad(timeComponents.minutes);\n    seconds.textContent = pad(timeComponents.seconds);\n  }, 1000);\n});\n\nfunction pad(value) {\n  return String(value).padStart(2, '0');\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n// console.log(convertMs(2000));\n// console.log(convertMs(140000));\n// console.log(convertMs(24140000));\n"],"names":["input","start","days","hours","minutes","seconds","selectedDates","options","date","iziToast","flatpickr","time","convertMs","timeComponents","pad","value","ms"],"mappings":"2GAKA,MAAMA,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAU,SAAS,cAAc,gBAAgB,EAEvD,IAAIC,EAAgB,KAGpB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAM,CACZF,EAAgBE,EAAK,CAAC,EAClBF,EAAgB,IAAI,MACtBL,EAAM,SAAW,GACjBQ,EAAS,MAAM,CACb,QAAS,6BACT,SAAU,UAClB,CAAO,GAEDR,EAAM,SAAW,GAEnB,QAAQ,IAAIO,EAAK,CAAC,CAAC,CACpB,CACH,EAEAE,EAAUV,EAAOO,CAAO,EAExBN,EAAM,iBAAiB,QAAS,IAAM,CACpCD,EAAM,SAAW,GACjBC,EAAM,SAAW,GAED,YAAY,IAAM,CAChC,IAAIU,EAAOL,EAAgB,IAAI,KAC/B,QAAQ,IAAIM,EAAUD,CAAI,CAAC,EAC3B,MAAME,EAAiBD,EAAUD,CAAI,EACrCT,EAAK,YAAcY,EAAID,EAAe,IAAI,EAC1CV,EAAM,YAAcW,EAAID,EAAe,KAAK,EAC5CT,EAAQ,YAAcU,EAAID,EAAe,OAAO,EAChDR,EAAQ,YAAcS,EAAID,EAAe,OAAO,CACjD,EAAE,GAAI,CACT,CAAC,EAED,SAASC,EAAIC,EAAO,CAClB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CAEA,SAASH,EAAUI,EAAI,CAMrB,MAAMd,EAAO,KAAK,MAAMc,EAAK,KAAG,EAC1Bb,EAAQ,KAAK,MAAOa,EAAK,MAAO,IAAI,EACpCZ,EAAU,KAAK,MAAQY,EAAK,MAAO,KAAQ,GAAM,EACjDX,EAAU,KAAK,MAASW,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAd,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}